<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Mini Heroes: Zbieracz Zasobów</title>
<style>
  body, html { margin:0; padding:0; overflow:hidden; background:#333; }
  canvas { display:block; margin:auto; background:#87CEEB; /* niebo */ }
  #hud {
    position:absolute; top:10px; left:10px; color:#fff;
    font-family:sans-serif; font-size:18px;
  }
</style>
</head>
<body>

<canvas id="game" width="800" height="600"></canvas>
<div id="hud">Złoto: 0 &nbsp; Drewno: 0</div>

<script>
(function(){
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  // stan gry
  let hero = { x:100, y:100, speed:4 };
  let goldCount = 0, woodCount = 0;

  // zasoby na planszy
  let resources = [];
  const RESOURCE_TYPES = [
    { type:'gold', color:'#FFD700' },  // złoto – żółty
    { type:'wood', color:'#8B4513' }   // drewno – brązowy
  ];
  // wygeneruj 20 losowych zasobów
  for(let i=0;i<20;i++){
    let r = RESOURCE_TYPES[Math.floor(Math.random()*2)];
    resources.push({
      type: r.type,
      color: r.color,
      x: 50 + Math.random()*(W-100),
      y: 50 + Math.random()*(H-100),
      size: 20
    });
  }

  // obsługa klawiszy
  let keys = {};
  window.addEventListener('keydown', e=> keys[e.key] = true);
  window.addEventListener('keyup',   e=> keys[e.key] = false);

  function update(){
    // ruch hero
    if(keys['ArrowUp'])    hero.y -= hero.speed;
    if(keys['ArrowDown'])  hero.y += hero.speed;
    if(keys['ArrowLeft'])  hero.x -= hero.speed;
    if(keys['ArrowRight']) hero.x += hero.speed;
    // ograniczenia granicą mapy
    hero.x = Math.max(0, Math.min(W, hero.x));
    hero.y = Math.max(0, Math.min(H, hero.y));

    // zbieranie
    resources = resources.filter(res=>{
      let dx = hero.x - (res.x + res.size/2);
      let dy = hero.y - (res.y + res.size/2);
      if(Math.hypot(dx,dy) < res.size/1.5){
        // trafiony
        if(res.type==='gold') goldCount++;
        else woodCount++;
        updateHUD();
        return false; // usuwamy
      }
      return true;
    });
  }

  function updateHUD(){
    document.getElementById('hud').innerHTML =
      `Złoto: ${goldCount} &nbsp; Drewno: ${woodCount}`;
  }

  function draw(){
    // tło - trawa
    ctx.fillStyle = '#228B22';
    ctx.fillRect(0,0,W,H);

    // rysuj zasoby
    resources.forEach(res=>{
      ctx.fillStyle = res.color;
      ctx.fillRect(res.x, res.y, res.size, res.size);
    });

    // rysuj jeźdźca (kółko)
    ctx.fillStyle = '#00008B';
    ctx.beginPath();
    ctx.arc(hero.x, hero.y, 15, 0, Math.PI*2);
    ctx.fill();
    // siodło
    ctx.fillStyle = '#FFF';
    ctx.fillRect(hero.x-5, hero.y-20, 10, 5);
  }

  function loop(){
    update();
    draw();
    requestAnimationFrame(loop);
  }

  // start gry
  updateHUD();
  loop();
})();
</script>

</body>
</html>
